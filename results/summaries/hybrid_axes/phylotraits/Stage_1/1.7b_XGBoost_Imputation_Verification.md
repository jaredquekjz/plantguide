# Stage 1 — mixgb Imputation Verification Checklist

Date: 2025-10-22  
Maintainer: Stage 1 modelling support

---

## 1. Feature Table Integrity
- [ ] `model_data/inputs/mixgb/mixgb_input_20251022.{csv,parquet}` has exactly **1 084 rows** and **164 columns**.
- [ ] Columns present:
  - Numeric targets: `leaf_area_mm2`, `nmass_mg_g`, `ldmc_frac`, `lma_g_m2`, `plant_height_m`, `seed_mass_mg`.
  - Categorical predictors: `try_woodiness`, `try_growth_form`, `try_habitat_adaptation`, `try_leaf_type`, `Genus`, `Family`.
  - Phylogenetic predictors: `p_phylo_T/M/L/N/R`.
  - Climate/soil medians (`wc2_..._q50`, `phh2o_*_q50`, etc.).
- [ ] Source/provenance columns (`*_source`) were dropped from the final feature set used in mixgb.

## 2. mixgb Execution
- [ ] `model_data/inputs/mixgb/run_mixgb.R` ran without errors and produced:
  - `mixgb_imputed_20251022_m1..m10.csv` and `.parquet`.
  - Aggregate means `mixgb_imputed_20251022_mean.csv` / `.parquet`.
  - `mixgb_warnings.txt` (contains only XGBoost deprecation notices).
- [ ] Spot-check a row in `mixgb_imputed_20251022_mean.csv` to ensure all six traits are filled and non-negative.

## 3. CV Evaluation
- [ ] `mixgb_cv_eval.R` completed and wrote `model_data/inputs/mixgb/mixgb_cv_rmse.csv`.
- [ ] Entries in the CV summary reflect five folds per trait (`folds = 5`).
- [ ] Confirm log/logit RMSE values match the console output:
  - Leaf area ≈ 2.06, Nmass ≈ 0.33, LMA ≈ 0.41, Plant height ≈ 1.02, Diaspore mass ≈ 2.67, LDMC ≈ 0.40.

## 4. BHPMF Diagnostics (Reference)
- [ ] `model_data/outputs/diag_bhpmf_ge30_20251022_env_means/coverage_before_after.csv` exists.
- [ ] (From Stage 1) log-space BHPMF RMSEs recorded: 1.625, 0.316, 0.324, 0.813, 1.783, 0.292.

## 5. Comparison Artefacts
- [ ] `model_data/inputs/mixgb/mixgb_vs_bhpmf_rmse_comparison.csv` summarises mixgb vs BHPMF errors (Δ column > 0 indicates mixgb higher RMSE).
- [ ] `model_data/inputs/mixgb/top_diff_<trait>.csv` lists species with largest absolute gaps between BHPMF and mixgb imputations.

## 6. Reporting
- [ ] `results/summaries/hybrid_axes/phylotraits/Stage_1/1.7b_XGBoost_Imputation_Summary.md` documents pipeline steps and final table.
- [ ] This verification checklist saved as `Stage_1/1.7b_XGBoost_Imputation_Verification.md`.

**Ready for review once all boxes are checked.**
