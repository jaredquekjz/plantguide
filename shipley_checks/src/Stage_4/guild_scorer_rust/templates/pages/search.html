{% extends "base.html" %}

{% block title %}Search Plants - {{ title }}{% endblock %}

{% block content %}
<div class="container mx-auto max-w-4xl py-8 px-4">
    <h1 class="text-3xl font-bold text-base-content mb-6">Search Plants</h1>

    <div class="card bg-base-100 shadow-md rounded-2xl">
        <div class="card-body">
            <!-- Search Input -->
            <div class="form-control">
                <div class="input-group">
                    <input type="text"
                           name="q"
                           id="search-input"
                           placeholder="Search by name, family, or genus..."
                           class="input input-bordered w-full rounded-xl"
                           hx-get="/search/results"
                           hx-trigger="input changed delay:300ms, search"
                           hx-target="#search-results"
                           hx-indicator="#search-spinner"
                           hx-sync="this:replace"
                           autocomplete="off">
                </div>
                <label class="label">
                    <span class="label-text-alt text-base-content/60">
                        Search {{ plant_count_formatted }} plants by scientific name, common name, family, or genus
                    </span>
                </label>
            </div>

            <!-- Loading Indicator -->
            <div id="search-spinner" class="htmx-indicator flex justify-center py-4">
                <span class="loading loading-spinner loading-md text-primary"></span>
            </div>

            <!-- Search Results Container -->
            <div id="search-results" class="mt-4">
                <!-- Results will be loaded here via HTMX -->
                <div class="text-center text-base-content/60 py-8">
                    <svg class="w-12 h-12 mx-auto mb-4 stroke-current opacity-40" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="m21 21-4.3-4.3"/>
                    </svg>
                    <p>Start typing to search for plants</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
